<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Job Portal - Milestone</title>
    <link rel="stylesheet" href="/css/Joblisting/Job_listing_public.css" />
    <link rel="stylesheet" href="/fontawesome/css/all.min.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
  </head>
  <body class="light-mode">
    <!-- Header -->
    <header class="header">
      <div class="container">
        <div class="header-content">
          <div class="logo">
            <a href="/" style="font-size: 40px">Mile<span>stone</span></a>
          </div>
          <div class="search-container">
            <form action="#" class="search-form">
              <input
                type="text"
                id="searchInput"
                placeholder="Search for jobs or freelancers..."
                class="search-input"
              />
              <button type="submit" class="search-button">
                <i class="fas fa-search"></i>
              </button>
            </form>
          </div>
          <div class="header-actions">
            <button
              class="theme-toggle"
              id="theme-toggle"
              aria-label="Toggle dark mode"
            >
              <svg
                class="theme-icon sun-icon"
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M12 17.5C15.0376 17.5 17.5 15.0376 17.5 12C17.5 8.96243 15.0376 6.5 12 6.5C8.96243 6.5 6.5 8.96243 6.5 12C6.5 15.0376 8.96243 17.5 12 17.5Z"
                  stroke="currentColor"
                  stroke-width="1.5"
                />
                <path
                  d="M12 1V3"
                  stroke="currentColor"
                  stroke-width="1.5"
                  stroke-linecap="round"
                />
                <path
                  d="M12 21V23"
                  stroke="currentColor"
                  stroke-width="1.5"
                  stroke-linecap="round"
                />
                <path
                  d="M4.22 4.22L5.64 5.64"
                  stroke="currentColor"
                  stroke-width="1.5"
                  stroke-linecap="round"
                />
                <path
                  d="M18.36 18.36L19.78 19.78"
                  stroke="currentColor"
                  stroke-width="1.5"
                  stroke-linecap="round"
                />
                <path
                  d="M1 12H3"
                  stroke="currentColor"
                  stroke-width="1.5"
                  stroke-linecap="round"
                />
                <path
                  d="M21 12H23"
                  stroke="currentColor"
                  stroke-width="1.5"
                  stroke-linecap="round"
                />
                <path
                  d="M4.22 19.78L5.64 18.36"
                  stroke="currentColor"
                  stroke-width="1.5"
                  stroke-linecap="round"
                />
                <path
                  d="M18.36 5.64L19.78 4.22"
                  stroke="currentColor"
                  stroke-width="1.5"
                  stroke-linecap="round"
                />
              </svg>
              <svg
                class="theme-icon moon-icon"
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M21.0672 11.8568L20.4253 11.469L21.0672 11.8568ZM12.1432 2.93276L11.7553 2.29085V2.29085L12.1432 2.93276ZM21.25 12C21.25 17.1086 17.1086 21.25 12 21.25V22.75C17.9371 22.75 22.75 17.9371 22.75 12H21.25ZM12 21.25C6.89137 21.25 2.75 17.1086 2.75 12H1.25C1.25 17.9371 6.06294 22.75 12 22.75V21.25ZM2.75 12C2.75 6.89137 6.89137 2.75 12 2.75V1.25C6.06294 1.25 1.25 6.06294 1.25 12H2.75ZM15.5 14.25C12.3244 14.25 9.75 11.6756 9.75 8.5H8.25C8.25 12.5041 11.4959 15.75 15.5 15.75V14.25ZM20.4253 11.469C19.4172 13.1373 17.5882 14.25 15.5 14.25V15.75C18.1349 15.75 20.4407 14.3439 21.7092 12.2447L20.4253 11.469ZM9.75 8.5C9.75 6.41177 10.8627 4.58282 12.531 3.57467L11.7553 2.29085C9.65609 3.5593 8.25 5.86509 8.25 8.5H9.75ZM12 2.75C11.9115 2.75 11.8077 2.71008 11.7324 2.63168C11.6686 2.56527 11.6538 2.50244 11.6503 2.47703C11.6461 2.44587 11.6482 2.35557 11.7553 2.29085L12.531 3.57467C13.0342 3.27065 13.196 2.71398 13.1368 2.27042C13.0754 1.81618 12.7166 1.25 12 1.25V2.75ZM21.7092 12.2447C21.6445 12.3518 21.5541 12.3539 21.523 12.3497C21.4976 12.3462 21.4347 12.3314 21.3683 12.2676C21.2899 12.1923 21.25 12.0885 21.25 12H22.75C22.75 11.2834 22.1838 10.9246 21.7296 10.8632C21.286 10.804 20.7294 10.9658 20.4253 11.469L21.7092 12.2447Z"
                  fill="currentColor"
                />
              </svg>
            </button>

            <% if (typeof user !== 'undefined' && user) { %>
            <a href="<%= dashboardRoute %>" class="btn btn-primary">
              <i class="fas fa-tv" id="icon_spacing"></i>Dashboard
            </a>
            <% } else { %>
            <a href="/login" class="btn btn-primary">
              <i class="fas fa-sign-in-alt" id="icon_spacing"></i>Sign In
            </a>
            <% } %>

            <button
              class="mobile-menu-toggle"
              id="mobile-menu-toggle"
              aria-label="Toggle menu"
            >
              <i class="fas fa-bars"></i>
            </button>
          </div>
        </div>
      </div>
    </header>

    <!-- Mobile Menu -->
    <div class="mobile-menu" id="mobile-menu">
      <div class="container">
        <nav class="mobile-nav">
          <ul>
            <li><a href="/">Home</a></li>
            <li><a href="/jobs">Jobs</a></li>
            <li><a href="#contact">Contact</a></li>
            <% if (typeof user !== 'undefined' && user) { %>
            <li>
              <a href="<%= dashboardRoute %>" class="btn btn-primary mobile-btn"
                >Dashboard</a
              >
            </li>
            <% } else { %>
            <li>
              <a href="/login" class="btn btn-primary mobile-btn">Sign In</a>
            </li>
            <% } %>
          </ul>
        </nav>
      </div>
    </div>

    <!-- Main Content -->
    <main class="main-content">
      <div class="container">
        <aside class="filters">
          <h2>Filters</h2>
          <div class="filter-section">
            <h3>Sort By</h3>
            <select id="sortSelect">
              <option value="salary-desc">Salary (High to Low)</option>
              <option value="salary-asc">Salary (Low to High)</option>
              <option value="date">Newest First</option>
              <option value="stars">Most Starred</option>
            </select>
          </div>
          <div class="filter-section">
            <h3>Experience Level</h3>
            <div class="checkbox-group">
              <label><input type="checkbox" value="entry" /> Entry Level</label>
              <label><input type="checkbox" value="mid" /> Mid Level</label>
              <label
                ><input type="checkbox" value="senior" /> Senior Level</label
              >
            </div>
          </div>
          <div class="filter-section">
            <h3>Skills</h3>
            <div class="skills-container">
              <div class="skill-tag">JavaScript</div>
              <div class="skill-tag">Python</div>
              <div class="skill-tag">React</div>
              <div class="skill-tag">Node.js</div>
              <div class="skill-tag">SQL</div>
              <div class="skill-tag">AWS</div>
              <div class="skill-tag">Docker</div>
              <div class="skill-tag">Git</div>
              <div class="skill-tag">TypeScript</div>
              <div class="skill-tag">Vue.js</div>
              <div class="skill-tag">Angular</div>
              <div class="skill-tag">Flutter</div>
              <div class="skill-tag">Kotlin</div>
              <div class="skill-tag">Figma</div>
              <div class="skill-tag">Sketch</div>
              <div class="skill-tag">Blendar</div>
              <div class="skill-tag">SEO</div>
              <div class="skill-tag">SEM</div>
              <div class="skill-tag">Pandas</div>
            </div>
          </div>
          <div class="filter-section">
            <h3>Job Type</h3>
            <select id="jobTypeSelect">
              <option value="">All Types</option>
              <option value="full-time">Full Time</option>
              <option value="part-time">Part Time</option>
              <option value="contract">Contract</option>
            </select>
            <div class="checkbox-group">
              <label
                ><input type="checkbox" id="remoteCheckbox" value="remote" />
                Remote</label
              >
            </div>
          </div>
        </aside>
        <section class="job_listings" id="jobList">
          <h1>Available Positions</h1>
          <% if (jobListings && jobListings.length > 0) { %> <%
          jobListings.forEach((job, index) => { %>
          <div class="job-card">
            <div class="job-img-container">
              <img src="<%= job.imageUrl %>" alt="Job Image" class="job-img" />
            </div>
            <div class="job-info">
              <h2 class="job-title">
                <%= job.title %>( <%= job.experienceLevel%>)
              </h2>

              <div class="job-price">
                ₹<%= job.budget.amount.toLocaleString() %> (<%=
                job.budget.period %>)
              </div>
              <div class="job-tech">
                <% job.description.skills.slice(0, 3).forEach(skill => { %>
                <span class="tech-tag"><%= skill %></span>
                <% }); %>
              </div>
              <div class="job-meta">
                <span class="location"
                  ><%= job.location || 'Not specified' %></span
                ><span class="location"
                  ><%= job.experienceLevel || 'Not specified' %></span
                >
                <span><%= job.remote ? '(Remote)' : '' %></span>
                <span class="work"><%= job.jobType %></span>
                <span class="clock">
                  Posted <%= new
                  Date(job.postedDate).toLocaleDateString('en-US', { month:
                  'short', day: 'numeric', year: 'numeric' }) %>
                </span>
              </div>
            </div>
            <div class="job-actions">
              <span class="applications-count">
                <%= job.applicationCount || 0 %> applicants
              </span>
              <a href="/jobs/<%= job.jobId %>">
                <button class="see-more-btn">See More</button>
              </a>
            </div>
          </div>
          <% }); %> <% } else { %>
          <p>No job listings available at the moment.</p>
          <% } %>
        </section>
      </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
      <div class="footer-container">
        <div class="footer-section footer-logo">
          <h3>Milestone</h3>
          <p>
            Your go-to platform for hiring top freelancers. We'll fill some more
            content here according to our need or we can remove this section if
            not required.
          </p>
        </div>
        <div class="footer-section footer-links">
          <h3>Quick Links</h3>
          <div class="quick-links">
            <ul>
              <li><a href="/">Home</a></li>
              <li><a href="/dashboard">Dashboard</a></li>
              <li><a href="/login">Sign in</a></li>
              <li><a href="#">Contact</a></li>
            </ul>
          </div>
        </div>
      </div>
      <div class="footer-bottom">
        <p>© 2025 Milestone. All rights reserved.</p>
      </div>
    </footer>

    <script src="/js/home/home.js"></script>
    <script src="/js/Joblisting/Job_listing_public.js"></script>
  </body>
</html>
