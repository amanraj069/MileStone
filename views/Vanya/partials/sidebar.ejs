<div class="sidebar">
  <div class="sidebar-header">
    <h3>Dashboard</h3>
    <div class="user-info">
      <div class="profile-img-container">
        <% if (user.picture && user.picture !==
        'https://cdn.pixabay.com/photo/2018/04/18/18/56/user-3331256_1280.png')
        { %>
        <img
          src="<%= user.picture || '/assets/default_profile.jpg' %>"
          alt="Profile picture of <%= user.name %>"
          class="profile-image"
        />
        <% } else { %>
        <i class="fas fa-user-circle profile-icon"></i>
        <% } %>
      </div>
      <span>Welcome, <%= user.name %>!</span>
    </div>
  </div>

  <nav class="sidebar-nav">
    <ul>
      <li>
        <a
          href="/"
          class="nav-link <%= activePage === 'home' ? 'active' : '' %>"
          ><i class="fas fa-home"></i> Home</a
        >
      </li>
      <li>
        <a
          href="/freelancerD/profile"
          class="nav-link <%= activePage === 'profile' ? 'active' : '' %>"
          ><i class="fas fa-user"></i> Profile</a
        >
      </li>
      <li>
        <a
          href="/freelancerD/active_job"
          class="nav-link <%= activePage === 'active_job' ? 'active' : '' %>"
          ><i class="fas fa-briefcase"></i> Active Jobs</a
        >
      </li>
      <li>
        <a
          href="/freelancerD/job_history"
          class="nav-link <%= activePage === 'job_history' ? 'active' : '' %>"
          ><i class="fas fa-history"></i> Job History</a
        >
      </li>
      <li>
        <a
          href="/freelancerD/payment"
          class="nav-link <%= activePage === 'payment' ? 'active' : '' %>"
          ><i class="fas fa-credit-card"></i> Payments</a
        >
      </li>
      <li>
        <a
          href="/freelancerD/skills_badges"
          class="nav-link <%= activePage === 'skills_badges' ? 'active' : '' %>"
          ><i class="fas fa-certificate"></i> Skills & Badges</a
        >
      </li>
      <li>
        <a
          href="/freelancerD/subscription"
          class="nav-link <%= activePage === 'subscription' ? 'active' : '' %>"
          ><i class="fas fa-crown"></i> Subscription</a
        >
      </li>
    </ul>
  </nav>

  <button class="logout-btn" onclick="window.location.href='/logout'">
    <i class="fas fa-sign-out-alt"></i> Logout
  </button>
</div>

<style>
  .sidebar {
    width: 260px;
    height: 100vh;
    background: linear-gradient(180deg, #1e3a8a 0%, #2563eb 100%);
    color: white;
    position: fixed;
    left: 0;
    top: 0;
    overflow-y: auto;
    box-shadow: 2px 0 10px rgba(0, 0, 0, 0.1);
    z-index: 1000;
  }

  .sidebar-header {
    padding: 20px;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
  }

  .sidebar-header h3 {
    margin: 0 0 15px 0;
    font-size: 24px;
    font-weight: 600;
  }

  .user-info {
    display: flex;
    align-items: center;
    gap: 10px;
    font-size: 14px;
  }

  .profile-img-container {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    overflow: hidden;
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgba(255, 255, 255, 0.1);
  }

  .profile-image {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .profile-icon {
    font-size: 24px;
    color: white;
  }

  .sidebar-nav ul {
    list-style: none;
    padding: 0;
    margin: 20px 0;
  }

  .sidebar-nav li {
    margin: 5px 0;
  }

  .nav-link {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 12px 20px;
    color: white;
    text-decoration: none;
    transition: all 0.3s ease;
    border-left: 3px solid transparent;
  }

  .nav-link:hover,
  .nav-link.active {
    background: rgba(255, 255, 255, 0.1);
    border-left-color: #60a5fa;
    transform: translateX(5px);
  }

  .nav-link i {
    width: 20px;
    text-align: center;
  }

  .logout-btn {
    position: absolute;
    bottom: 20px;
    left: 20px;
    right: 20px;
    background: rgba(255, 255, 255, 0.1);
    border: none;
    color: white;
    padding: 12px;
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
  }

  .logout-btn:hover {
    background: rgba(255, 255, 255, 0.2);
    transform: translateY(-2px);
  }
</style>
